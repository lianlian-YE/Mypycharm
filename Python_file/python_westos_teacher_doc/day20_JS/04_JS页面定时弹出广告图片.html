<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>淘宝</title>

    <style type="text/css">
        #circle {
            border: 1px solid white;
            width: 590px;
            height: 500px;
            margin: auto;
            text-align: center;
        }

        #ad {
            width: 1190px;
            height: 80px;
            margin: auto;


        }
    </style>

    <script type="text/javascript">
        function init() {

            //书写轮播图显示的定时操作;
            setInterval('changeImg()', 3000);


            //设置广告图片的定时操作, setime不加var, 为全局变量， 其他函数里面也可以使用;
            setime = setInterval('showAd()', 1000);
        }





        // 书写显示轮播图的函数
        // 定义一全局变量， 控制图片循环的顺序;
        var i = 1;
        function changeImg() {
            // 每次触发事件， 则i+1;实现下一张照片;
            i++;
            // 修改照片的链接为下一张照片
            document.getElementById("img").src = "img/img" + i + ".jpg";
            // 6为轮播图片的总数， 如果i===6， 则重头轮播, 重置i为1;
            if (i === 6) {
                i = 0;
            }
        }


        //书写显示广告图片的函数;
        function showAd() {
            //获取广告图片的属性
            var adEle = document.getElementById('ad_img');
            //修改广告图片元素里面的属性并让其显示;
            adEle.style.display = "block";

            //清除显示图片的定时操作;传递设置定时的值;
            clearInterval(setime);

            //设置隐藏图片的定时操作;
            hiddentime = setInterval("hiddenAd()", 3000);
        }


        function hiddenAd() {
            //获取广告图片的属性,修改广告图片元素里面的属性并让其隐藏;
            document.getElementById('ad_img').style.display = "none";

            //清除隐藏图片的定时操作;传递设置定时的值;
            clearInterval(hiddentime);

        }


    </script>

</head>
<body onload="init()">
<!--
1. 技术分析
    获取元素: document.getElementById("xxx");
    事件: onload事件
    隐藏图片:display:none;
    定时操作: setInterval("changeImg(), 3000");

2. 目标：
    实现网页定时弹出广告， 并定时取消弹出的广告;

3. 步骤分析:
    1). 在页面的指定位置隐藏一个广告图片(使用display属性的none值;);
    2). 确定事件(onload)并为其绑定一个函数;
    3). 书写定时任务(setInterval()), 设置一个显示图片的定时操作;
    4). 书写定时任务里面的函数(获取广告图片的位置并设置属性style的display值为block);
    5). 清除显示图片的定时操作
    6). 书写隐藏图片的定时操作;
    7). 书写定时器中的函数(获取广告图片的位置并设置属性style的display值为none;)
    8). 清除隐藏图片的定时操作;
-->

<div id="circle">
    <img src="img/img1.jpg" id="img">
</div>


<div id="ad">

    <img src="img/img7_ad.jpg" id="ad_img" style="display:none">


</div>

</body>
</html>