<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>04_JS实现首页轮播图</title>
    <style>


    </style>
    <script>
        function init() {
            //每隔固定时间， 去修改图片(changeImg()),
            // setInterval默认时间单位为毫秒；
            setInterval('changeImg()', 1000);
            //每隔1秒， 去显示广告;
            //设置广告图片的定时操作,（*****在js里面， 没有var， 则变量为全局变量;）
            displayTime = setInterval('showAd()', 1000);
        }

        var i = 1;
        function changeImg() {
//                var img = document.getElementById('img').src;
//                alert(img);

//                document.getElementById('img').src = 'img/img2.jpg'
            // 当点击下一页的时候， 循环改变图片的内容;

            // 每次触发事件， 则i+1;实现下一张照片;
            i++;
            // 修改照片的链接为下一张照片
            document.getElementById("img").src = "img/img" + i + ".jpg";
            // 6为轮播图片的总数， 如果i===6， 则重头轮播, 重置i为1;
            if (i === 6) {
                i = 0;
            }
        }

        function showAd() {
            //显示广告的函数
            // 1. 获取广告图片的属性;
            document.getElementById('ad').style.display = "block";
            //2. 清除显示图片的定时操作;
            clearInterval(displayTime);

            //3. 设置隐藏图片的定时任务;
            hidtime = setInterval('hidAd()', 1000);
        }


        function hidAd() {
            // 1. 获取广告图片的属性;
            document.getElementById('ad').style.display = "none";
            //2. 清除隐藏图片的定时操作;
            clearInterval(hidtime);
        }
    </script>
</head>
<body onload="init()">


<!--

1. 技术分析
    获取元素: document.getElementById("xxx");
    事件: onload事件
    隐藏图片:display:none;
    定时操作: setInterval("changeImg(), 3000");

2. 目标：
    实现网页定时弹出广告， 并定时取消弹出的广告;

3. 步骤分析:
    1). 在页面的指定位置隐藏一个广告图片(使用display属性的none值;);
    2). 确定事件(onload)并为其绑定一个函数;
    3). 书写定时任务(setInterval()), 设置一个显示图片的定时操作;
    4). 书写定时任务里面的函数(获取广告图片的位置并设置属性style的display值为block);
    5). 清除显示图片的定时操作
    6). 书写隐藏图片的定时操作;
    7). 书写定时器中的函数(获取广告图片的位置并设置属性style的display值为none;)
    8). 清除隐藏图片的定时操作;


-->


<div align="center">
    <br/>


    <img src="img/img1.jpg" id="img">
</div>


<div  align="center">
    <img  src="img/img7_ad.jpg"  id='ad' style="display: none">
</div>


</body>
</html>